<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!-- SEO Meta Tags -->
    <meta name="description" content="Learn about different loan types, spot predatory lending warning signs, and use our interactive tools to evaluate loan offers. Includes APR comparison calculator and red flag checker.">
    <meta name="keywords" content="loan types, predatory lending, payday loans, APR calculator, loan warning signs, credit card APR, personal loan rates, debt trap">
    <meta name="author" content="OldWeb LLC">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://oldweb.tech/financials/loan-reference.html">

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Loan Reference Guide: Types, Rates, and Warning Signs - OldWeb.tech">
    <meta property="og:description" content="Learn about different loan types, spot predatory lending warning signs, and use our interactive tools to evaluate loan offers.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://oldweb.tech/financials/loan-reference.html">
    <meta property="og:site_name" content="OldWeb.tech">

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="Loan Reference Guide: Types, Rates, and Warning Signs - OldWeb.tech">
    <meta name="twitter:description" content="Learn about different loan types, spot predatory lending warning signs, and use our interactive tools.">

    <!-- Additional Meta Tags -->
    <meta name="theme-color" content="#1a1a2e">

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="32x32" href="../logo/favicon-32x32.png">

    <title>Loan Reference Guide: Types, Rates, and Warning Signs - OldWeb.tech</title>
    <link rel="stylesheet" href="../a11y.css">
    <script src="../a11y-utils.js"></script>
    <script src="../navigationv2.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            padding: 40px 20px;
            color: #fff;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
        }

        h1 {
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5rem;
            color: #4fc3f7;
            text-shadow: 0 0 20px rgba(79, 195, 247, 0.3);
        }

        .subtitle {
            text-align: center;
            color: #90caf9;
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .content-section {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 16px;
            padding: 30px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 25px;
        }

        .content-section h2 {
            color: #4fc3f7;
            font-size: 1.4rem;
            margin-bottom: 20px;
        }

        .content-section h3 {
            color: #4fc3f7;
            font-size: 1.2rem;
            margin-bottom: 15px;
        }

        .content-section p {
            color: #b0bec5;
            line-height: 1.7;
            margin-bottom: 15px;
        }

        .content-section p:last-child {
            margin-bottom: 0;
        }

        .content-section strong {
            color: #fff;
        }

        /* Navigation links */
        .nav-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-bottom: 30px;
        }

        .nav-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 12px 20px;
            background: rgba(79, 195, 247, 0.15);
            border: 1px solid rgba(79, 195, 247, 0.3);
            border-radius: 8px;
            color: #4fc3f7;
            text-decoration: none;
            font-weight: 500;
            transition: all 0.2s;
        }

        .nav-link:hover {
            background: rgba(79, 195, 247, 0.25);
            border-color: #4fc3f7;
            transform: translateY(-2px);
        }

        .nav-link.primary {
            background: linear-gradient(135deg, #4fc3f7 0%, #2196f3 100%);
            border-color: transparent;
            color: #fff;
        }

        .nav-link.primary:hover {
            box-shadow: 0 4px 15px rgba(79, 195, 247, 0.4);
        }

        /* Loan comparison table */
        .loan-comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            font-size: 0.9rem;
        }

        .loan-comparison-table th {
            background: rgba(79, 195, 247, 0.2);
            color: #4fc3f7;
            padding: 12px 10px;
            text-align: left;
            font-weight: 600;
            border-bottom: 2px solid rgba(79, 195, 247, 0.3);
        }

        .loan-comparison-table td {
            padding: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            color: #b0bec5;
        }

        .loan-comparison-table tr:hover {
            background: rgba(79, 195, 247, 0.05);
        }

        .loan-comparison-table .danger-row {
            background: rgba(244, 67, 54, 0.1);
        }

        .loan-comparison-table .danger-row td {
            color: #ff8a80;
        }

        .loan-comparison-table .good-row td:first-child {
            color: #81c784;
        }

        .apr-pill {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .apr-pill.good {
            background: rgba(76, 175, 80, 0.3);
            color: #81c784;
        }

        .apr-pill.caution {
            background: rgba(255, 193, 7, 0.3);
            color: #ffd54f;
        }

        .apr-pill.danger {
            background: rgba(244, 67, 54, 0.3);
            color: #ff8a80;
        }

        /* Analogy box */
        .analogy-box {
            background: rgba(79, 195, 247, 0.1);
            border: 1px dashed rgba(79, 195, 247, 0.4);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .analogy-box .analogy-icon {
            font-size: 1.5rem;
            margin-right: 10px;
        }

        .analogy-box p {
            color: #b3e5fc;
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 0;
        }

        /* Warning and safe boxes */
        .warning-box {
            background: rgba(244, 67, 54, 0.15);
            border-left: 4px solid #f44336;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .warning-box h4 {
            color: #ff8a80;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .warning-box ul {
            margin: 0;
            padding-left: 20px;
        }

        .warning-box li {
            color: #ffcdd2;
            margin-bottom: 6px;
        }

        .safe-box {
            background: rgba(76, 175, 80, 0.15);
            border-left: 4px solid #4caf50;
            padding: 15px 20px;
            margin: 15px 0;
            border-radius: 0 8px 8px 0;
        }

        .safe-box h4 {
            color: #81c784;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .safe-box ul {
            margin: 0;
            padding-left: 20px;
        }

        .safe-box li {
            color: #c8e6c9;
            margin-bottom: 6px;
        }

        .callout {
            background: rgba(79, 195, 247, 0.1);
            border-left: 3px solid #4fc3f7;
            padding: 15px 20px;
            margin: 20px 0;
            border-radius: 0 8px 8px 0;
        }

        .callout strong {
            color: #4fc3f7;
        }

        .callout.warning {
            border-color: #ffd54f;
        }

        .callout.warning strong {
            color: #ffd54f;
        }

        /* Loan Cost Calculator */
        .loan-cost-calculator {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .loan-cost-calculator h4 {
            color: #4fc3f7;
            margin-bottom: 15px;
        }

        .calc-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 20px;
        }

        .calc-input-group {
            display: flex;
            flex-direction: column;
        }

        .calc-input-group label {
            color: #90caf9;
            font-size: 0.85rem;
            margin-bottom: 6px;
        }

        .calc-input-group input,
        .calc-input-group select {
            padding: 10px 12px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 6px;
            background: #0f1419;
            color: #fff;
            font-size: 0.95rem;
        }

        .calc-input-group input:focus,
        .calc-input-group select:focus {
            outline: none;
            border-color: #4fc3f7;
        }

        .calc-input-group select option {
            background: #0f1419;
            color: #fff;
        }

        .calc-results {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .calc-result-box {
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }

        .calc-result-box.good {
            background: rgba(76, 175, 80, 0.15);
            border: 1px solid rgba(76, 175, 80, 0.3);
        }

        .calc-result-box.bad {
            background: rgba(244, 67, 54, 0.15);
            border: 1px solid rgba(244, 67, 54, 0.3);
        }

        .calc-result-box .result-label {
            color: #90caf9;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 5px;
        }

        .calc-result-box.good .result-value {
            color: #81c784;
            font-size: 1.3rem;
            font-weight: 600;
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .calc-result-box.bad .result-value {
            color: #ff8a80;
            font-size: 1.3rem;
            font-weight: 600;
            font-family: 'Consolas', 'Monaco', monospace;
        }

        .calc-result-box .result-detail {
            color: #78909c;
            font-size: 0.85rem;
            margin-top: 5px;
        }

        .calc-savings {
            margin-top: 15px;
            padding: 12px;
            background: rgba(76, 175, 80, 0.1);
            border-radius: 6px;
            text-align: center;
        }

        .calc-savings .savings-amount {
            color: #66bb6a;
            font-size: 1.1rem;
            font-weight: 600;
        }

        /* Red Flag Checker */
        .red-flag-checker {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin: 15px 0;
        }

        .red-flag-checker h4 {
            color: #ffd54f;
            margin-bottom: 15px;
        }

        .flag-checklist {
            display: grid;
            gap: 10px;
        }

        .flag-item {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            padding: 12px 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .flag-item:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        .flag-item.checked {
            border-color: rgba(244, 67, 54, 0.5);
            background: rgba(244, 67, 54, 0.1);
        }

        .flag-item input[type="checkbox"] {
            width: 20px;
            height: 20px;
            accent-color: #f44336;
            flex-shrink: 0;
            margin-top: 2px;
        }

        .flag-item label {
            cursor: pointer;
            color: #fff;
            font-size: 0.95rem;
            line-height: 1.4;
        }

        .flag-item .flag-explanation {
            display: block;
            color: #90caf9;
            font-size: 0.85rem;
            margin-top: 4px;
        }

        .flag-result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .flag-result.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .flag-result.safe {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid rgba(76, 175, 80, 0.4);
        }

        .flag-result.caution {
            background: rgba(255, 193, 7, 0.2);
            border: 1px solid rgba(255, 193, 7, 0.4);
        }

        .flag-result.danger {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid rgba(244, 67, 54, 0.4);
        }

        .flag-result h5 {
            margin-bottom: 8px;
        }

        .flag-result.safe h5 { color: #81c784; }
        .flag-result.caution h5 { color: #ffd54f; }
        .flag-result.danger h5 { color: #ff8a80; }

        .flag-result p {
            margin-bottom: 0;
        }

        .btn {
            background: linear-gradient(135deg, #4fc3f7 0%, #2196f3 100%);
            color: #fff;
            border: none;
            padding: 12px 24px;
            font-size: 1rem;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            font-weight: 600;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(79, 195, 247, 0.4);
        }

        .btn.secondary {
            background: transparent;
            border: 2px solid rgba(255, 255, 255, 0.3);
            color: #90caf9;
        }

        .btn.secondary:hover {
            background: rgba(255, 255, 255, 0.1);
            border-color: rgba(255, 255, 255, 0.5);
            box-shadow: none;
            transform: none;
        }

        /* Scenario Quiz */
        .scenario-quiz {
            background: rgba(156, 39, 176, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.3);
            border-radius: 12px;
            padding: 20px;
            margin: 15px 0;
        }

        .scenario-quiz h4 {
            color: #ce93d8;
            margin-bottom: 15px;
        }

        .scenario-progress {
            text-align: center;
            color: #90caf9;
            font-size: 0.85rem;
            margin-bottom: 10px;
        }

        .scenario-card {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .scenario-card .scenario-text {
            color: #fff;
            font-size: 1rem;
            line-height: 1.6;
            margin-bottom: 15px;
            padding: 15px;
            background: rgba(79, 195, 247, 0.1);
            border-radius: 6px;
            border-left: 3px solid #4fc3f7;
        }

        .scenario-options {
            display: grid;
            gap: 10px;
        }

        .scenario-option {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 15px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .scenario-option:hover {
            background: rgba(0, 0, 0, 0.3);
        }

        .scenario-option.selected {
            border-color: rgba(156, 39, 176, 0.5);
            background: rgba(156, 39, 176, 0.15);
        }

        .scenario-option.correct {
            border-color: rgba(76, 175, 80, 0.5);
            background: rgba(76, 175, 80, 0.15);
        }

        .scenario-option.incorrect {
            border-color: rgba(244, 67, 54, 0.5);
            background: rgba(244, 67, 54, 0.15);
        }

        .scenario-option input[type="radio"] {
            width: 18px;
            height: 18px;
            accent-color: #9c27b0;
        }

        .scenario-option label {
            cursor: pointer;
            color: #fff;
            font-size: 0.95rem;
            flex: 1;
        }

        .scenario-feedback {
            margin-top: 15px;
            padding: 15px;
            border-radius: 8px;
            display: none;
        }

        .scenario-feedback.show {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .scenario-feedback.correct {
            background: rgba(76, 175, 80, 0.2);
            border: 1px solid rgba(76, 175, 80, 0.4);
        }

        .scenario-feedback.correct h5 {
            color: #81c784;
        }

        .scenario-feedback.incorrect {
            background: rgba(244, 67, 54, 0.2);
            border: 1px solid rgba(244, 67, 54, 0.4);
        }

        .scenario-feedback.incorrect h5 {
            color: #ff8a80;
        }

        .scenario-feedback p {
            margin-bottom: 0;
        }

        .scenario-nav {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
        }

        .scenario-nav button {
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.9rem;
            transition: all 0.2s;
        }

        .scenario-nav .prev-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: #fff;
        }

        .scenario-nav .prev-btn:hover {
            background: rgba(255, 255, 255, 0.15);
        }

        .scenario-nav .prev-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .scenario-nav .next-btn {
            background: linear-gradient(135deg, #9c27b0 0%, #7b1fa2 100%);
            border: none;
            color: #fff;
        }

        .scenario-nav .next-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 3px 10px rgba(156, 39, 176, 0.3);
        }

        #scenarioFinalScore h4 {
            color: #ce93d8;
            margin-bottom: 15px;
        }

        /* Collapsible sections */
        .collapsible {
            margin-bottom: 12px;
        }

        .collapsible-header {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            padding: 15px 20px;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
            transition: all 0.2s;
        }

        .collapsible-header:hover {
            background: rgba(0, 0, 0, 0.3);
            border-color: rgba(79, 195, 247, 0.3);
        }

        .collapsible-header h3 {
            color: #fff;
            font-size: 1rem;
            font-weight: 500;
        }

        .collapsible-icon {
            color: #4fc3f7;
            font-size: 1.2rem;
            transition: transform 0.3s;
        }

        .collapsible.open .collapsible-icon {
            transform: rotate(180deg);
        }

        .collapsible-content {
            display: none;
            padding: 20px;
            background: rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.05);
            border-top: none;
            border-radius: 0 0 8px 8px;
            color: #b0bec5;
            line-height: 1.7;
        }

        .collapsible.open .collapsible-content {
            display: block;
        }

        /* Footer */
        footer {
            text-align: center;
            margin-top: 30px;
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.85rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Responsive */
        @media (max-width: 768px) {
            h1 {
                font-size: 2rem;
            }

            .nav-links {
                flex-direction: column;
            }

            .nav-link {
                justify-content: center;
            }

            .calc-results {
                grid-template-columns: 1fr;
            }

            .loan-comparison-table {
                font-size: 0.8rem;
            }

            .loan-comparison-table th,
            .loan-comparison-table td {
                padding: 8px 6px;
            }
        }
    </style>
</head>
<body>
    <a href="#main-content" class="skip-link">Skip to main content</a>

    <main id="main-content" class="container">
        <h1>Loan Reference Guide</h1>
        <p class="subtitle">Understand loan types, spot warning signs, and make informed decisions</p>

        <div class="nav-links">
            <a href="debt-payoff-comparison.html" class="nav-link primary" aria-label="Go to debt payoff calculator">
                <span aria-hidden="true">&#128200;</span> Debt Payoff Calculator
            </a>
            <a href="loan-payoff-methods.html" class="nav-link" aria-label="Learn about snowball vs avalanche methods">
                <span aria-hidden="true">&#128218;</span> Payoff Methods Guide
            </a>
        </div>

        <!-- Loan Types Section -->
        <div class="content-section">
            <h2>Understanding Different Types of Loans</h2>
            <p>Not all loans are created equal. Here's a breakdown of common loan types and what to expect:</p>

            <div class="analogy-box">
                <span class="analogy-icon" aria-hidden="true">&#128161;</span>
                <p><strong>Think of APR like a speed limit:</strong> Under 10% is cruising in a school zone (safe). 10-36% is highway speed (manageable). Over 36%? You're in a race car with no brakes - that's when things get dangerous.</p>
            </div>

            <div style="overflow-x: auto;">
                <table class="loan-comparison-table" role="table" aria-label="Comparison of loan types">
                    <thead>
                        <tr>
                            <th scope="col">Loan Type</th>
                            <th scope="col">Typical APR</th>
                            <th scope="col">Term Length</th>
                            <th scope="col">Risk Level</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="good-row">
                            <td>Federal Student Loan</td>
                            <td><span class="apr-pill good">5-7%</span></td>
                            <td>10-25 years</td>
                            <td>Low</td>
                        </tr>
                        <tr class="good-row">
                            <td>Auto Loan (good credit)</td>
                            <td><span class="apr-pill good">6-10%</span></td>
                            <td>3-6 years</td>
                            <td>Low</td>
                        </tr>
                        <tr>
                            <td>Personal Loan</td>
                            <td><span class="apr-pill caution">10-28%</span></td>
                            <td>2-7 years</td>
                            <td>Medium</td>
                        </tr>
                        <tr>
                            <td>Credit Card</td>
                            <td><span class="apr-pill caution">19-29%</span></td>
                            <td>Revolving</td>
                            <td>Medium-High</td>
                        </tr>
                        <tr class="danger-row">
                            <td>Payday Loan</td>
                            <td><span class="apr-pill danger">391-664%</span></td>
                            <td>2-4 weeks</td>
                            <td>EXTREME</td>
                        </tr>
                        <tr class="danger-row">
                            <td>Title Loan</td>
                            <td><span class="apr-pill danger">100-300%</span></td>
                            <td>30 days</td>
                            <td>EXTREME</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div class="callout warning">
                <p><strong>Key Takeaway:</strong> Any loan with APR over 36% is considered predatory by consumer protection groups. If you see triple-digit APR, run.</p>
            </div>
        </div>

        <!-- Predatory Lending Section -->
        <div class="content-section">
            <h2>Predatory Lending: Warning Signs to Watch For</h2>
            <p>Predatory lenders target people who are desperate, inexperienced, or don't know better. <strong>They're counting on you not understanding what you're signing.</strong> Here's how to spot them:</p>

            <div class="warning-box">
                <h4><span aria-hidden="true">&#9888;</span> Major Red Flags</h4>
                <ul>
                    <li><strong>Sky-high interest rates</strong> - Anything over 36% APR is a warning sign. Over 100%? That's loan shark territory.</li>
                    <li><strong>"No credit check needed!"</strong> - Sounds good, but it means they're not checking if you can afford to pay it back. They don't care.</li>
                    <li><strong>Pressure to sign NOW</strong> - "This offer expires today!" or "Don't you need this money?" are manipulation tactics.</li>
                    <li><strong>Hidden fees everywhere</strong> - Origination fees, processing fees, early payoff penalties. If they're hard to find, that's on purpose.</li>
                    <li><strong>Balloon payments</strong> - Small payments for months, then suddenly you owe thousands. It's a trap.</li>
                </ul>
            </div>

            <div class="analogy-box">
                <span class="analogy-icon" aria-hidden="true">&#127920;</span>
                <p><strong>Think of it like a video game:</strong> Predatory lenders are like those "free-to-play" games that seem free but are designed to drain your wallet. The terms look simple until you're stuck paying $500 to unlock the next level (or in this case, to avoid destroying your credit).</p>
            </div>

            <div class="safe-box">
                <h4><span aria-hidden="true">&#10003;</span> Signs of a Legitimate Lender</h4>
                <ul>
                    <li><strong>Licensed and regulated</strong> - Check for NMLS registration number</li>
                    <li><strong>Clear disclosure</strong> - All terms, fees, and APR shown upfront BEFORE you sign</li>
                    <li><strong>APR under 36%</strong> - Ideally much lower</li>
                    <li><strong>No pressure</strong> - Gives you time to read, think, and compare</li>
                    <li><strong>Right to cancel</strong> - 3 days to back out (federal law)</li>
                    <li><strong>Reasonable repayment</strong> - Payments you can actually afford</li>
                </ul>
            </div>

            <div class="callout">
                <p><strong>Remember:</strong> Legitimate lenders WANT you to understand the terms because they want you to pay them back. Predatory lenders profit when you CAN'T pay - that's when fees pile up.</p>
            </div>
        </div>

        <!-- Loan Calculator Section -->
        <div class="content-section">
            <h2>See the Real Cost: Loan Calculator</h2>
            <p>Enter a loan amount to see how much you'd actually pay back with different APRs. The difference is eye-opening.</p>

            <div class="loan-cost-calculator">
                <h4>Compare Good Loan vs Predatory Loan</h4>
                <div class="calc-inputs">
                    <div class="calc-input-group">
                        <label for="eduLoanAmount">Amount to Borrow</label>
                        <input type="text" id="eduLoanAmount" placeholder="1000" value="1000" oninput="formatInput(this); calculateEducationLoanCost()">
                    </div>
                    <div class="calc-input-group">
                        <label for="goodApr">Good Loan APR</label>
                        <select id="goodApr" onchange="calculateEducationLoanCost()">
                            <option value="8">8% (Auto Loan)</option>
                            <option value="12">12% (Personal Loan)</option>
                            <option value="15" selected>15% (Credit Union)</option>
                            <option value="20">20% (Credit Card)</option>
                        </select>
                    </div>
                    <div class="calc-input-group">
                        <label for="badApr">Predatory APR</label>
                        <select id="badApr" onchange="calculateEducationLoanCost()">
                            <option value="100">100% (Title Loan)</option>
                            <option value="200">200% (Bad Title Loan)</option>
                            <option value="400" selected>400% (Payday Loan)</option>
                            <option value="600">600% (Worst Payday)</option>
                        </select>
                    </div>
                    <div class="calc-input-group">
                        <label for="eduLoanTerm">Repayment Period</label>
                        <select id="eduLoanTerm" onchange="calculateEducationLoanCost()">
                            <option value="6">6 months</option>
                            <option value="12" selected>1 year</option>
                            <option value="24">2 years</option>
                            <option value="36">3 years</option>
                            <option value="60">5 years</option>
                            <option value="72">6 years</option>
                            <option value="120">10 years</option>
                        </select>
                    </div>
                </div>

                <div class="calc-results">
                    <div class="calc-result-box good">
                        <div class="result-label">Good Loan Total</div>
                        <div class="result-value" id="goodLoanTotal">$1,083</div>
                        <div class="result-detail" id="goodLoanDetail">Monthly: $90.25</div>
                    </div>
                    <div class="calc-result-box bad">
                        <div class="result-label">Predatory Loan Total</div>
                        <div class="result-value" id="badLoanTotal">$5,000</div>
                        <div class="result-detail" id="badLoanDetail">Monthly: $416.67</div>
                    </div>
                </div>

                <div class="calc-savings">
                    <p>By choosing the good loan, you save: <span class="savings-amount" id="loanSavings">$3,917</span></p>
                </div>
            </div>

            <div class="analogy-box">
                <span class="analogy-icon" aria-hidden="true">&#128176;</span>
                <p><strong>Put it in perspective:</strong> That savings could buy you <span id="savingsComparison">39 nice dinners out, or 1 year of streaming services, or a weekend road trip with friends</span>.</p>
            </div>
        </div>

        <!-- Red Flag Checker - Collapsible -->
        <div class="content-section">
            <div class="collapsible" id="red-flag-checker">
                <div class="collapsible-header" onclick="toggleCollapsible('red-flag-checker')" role="button" aria-expanded="false" tabindex="0">
                    <h3>Interactive: Is This Loan Safe? (Red Flag Checker)</h3>
                    <span class="collapsible-icon" aria-hidden="true">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <p>Thinking about taking out a loan? Check off any red flags that apply to see if you should proceed:</p>

                    <div class="red-flag-checker" role="group" aria-labelledby="checker-heading">
                        <h4 id="checker-heading">Check All That Apply</h4>
                        <div class="flag-checklist" id="flagChecklist">
                            <div class="flag-item" onclick="toggleFlag(this)">
                                <input type="checkbox" id="flag1" onchange="updateFlagResult()">
                                <label for="flag1">
                                    The APR is over 36%
                                    <span class="flag-explanation">Consumer protection groups consider 36%+ APR to be predatory</span>
                                </label>
                            </div>
                            <div class="flag-item" onclick="toggleFlag(this)">
                                <input type="checkbox" id="flag2" onchange="updateFlagResult()">
                                <label for="flag2">
                                    They said "no credit check needed"
                                    <span class="flag-explanation">Legitimate lenders check credit to ensure you can repay</span>
                                </label>
                            </div>
                            <div class="flag-item" onclick="toggleFlag(this)">
                                <input type="checkbox" id="flag3" onchange="updateFlagResult()">
                                <label for="flag3">
                                    They're pressuring me to sign today
                                    <span class="flag-explanation">Good lenders give you time to think and compare options</span>
                                </label>
                            </div>
                            <div class="flag-item" onclick="toggleFlag(this)">
                                <input type="checkbox" id="flag4" onchange="updateFlagResult()">
                                <label for="flag4">
                                    The fees are hard to find or unclear
                                    <span class="flag-explanation">Hidden fees are a major warning sign</span>
                                </label>
                            </div>
                            <div class="flag-item" onclick="toggleFlag(this)">
                                <input type="checkbox" id="flag5" onchange="updateFlagResult()">
                                <label for="flag5">
                                    There's a large "balloon payment" at the end
                                    <span class="flag-explanation">Small payments followed by a huge lump sum is a trap</span>
                                </label>
                            </div>
                            <div class="flag-item" onclick="toggleFlag(this)">
                                <input type="checkbox" id="flag6" onchange="updateFlagResult()">
                                <label for="flag6">
                                    I can't easily find their license/registration info
                                    <span class="flag-explanation">Legitimate lenders display their NMLS number</span>
                                </label>
                            </div>
                            <div class="flag-item" onclick="toggleFlag(this)">
                                <input type="checkbox" id="flag7" onchange="updateFlagResult()">
                                <label for="flag7">
                                    They want access to my bank account to auto-withdraw
                                    <span class="flag-explanation">This gives them control over your money</span>
                                </label>
                            </div>
                            <div class="flag-item" onclick="toggleFlag(this)">
                                <input type="checkbox" id="flag8" onchange="updateFlagResult()">
                                <label for="flag8">
                                    My monthly payment would be more than 10% of my income
                                    <span class="flag-explanation">Unaffordable payments lead to debt traps</span>
                                </label>
                            </div>
                        </div>

                        <div class="flag-result safe" id="flagResultSafe">
                            <h5><span aria-hidden="true">&#10003;</span> Looking Good!</h5>
                            <p>No major red flags detected. This loan might be reasonable - but still compare rates from at least 3 lenders before deciding.</p>
                        </div>

                        <div class="flag-result caution" id="flagResultCaution">
                            <h5><span aria-hidden="true">&#9888;</span> Proceed With Caution</h5>
                            <p>You've identified 1-2 warning signs. This doesn't automatically mean it's a bad loan, but you should investigate further and consider alternatives.</p>
                        </div>

                        <div class="flag-result danger" id="flagResultDanger">
                            <h5><span aria-hidden="true">&#128680;</span> Warning: High Risk!</h5>
                            <p>Multiple red flags detected. This loan has significant warning signs of predatory lending. Strongly consider walking away and exploring other options like credit unions, family loans, or saving up instead.</p>
                        </div>

                        <button type="button" class="btn secondary" onclick="resetFlagChecker()" style="margin-top: 15px;">
                            Reset Checker
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Scenario Quiz - Collapsible -->
        <div class="content-section">
            <div class="collapsible" id="scenario-quiz">
                <div class="collapsible-header" onclick="toggleCollapsible('scenario-quiz')" role="button" aria-expanded="false" tabindex="0">
                    <h3>Quiz: What Would You Do?</h3>
                    <span class="collapsible-icon" aria-hidden="true">&#9660;</span>
                </div>
                <div class="collapsible-content">
                    <p>Test your knowledge with these real-world scenarios. See if you can spot the best financial decision.</p>

                    <div class="scenario-quiz" id="scenarioQuizContainer">
                        <div class="scenario-progress">
                            Question <span id="currentScenario">1</span> of <span id="totalScenarios">4</span>
                        </div>

                        <div class="scenario-card" id="scenario1" data-correct="b">
                            <div class="scenario-text">
                                <strong>Scenario:</strong> Your car breaks down and needs a $800 repair. You need your car to get to work. A payday lender offers you $800 today with "just $100 in fees" due in 2 weeks. Your credit union offers an emergency loan at 18% APR with $50/month payments over 18 months.
                            </div>
                            <div class="scenario-options" role="radiogroup" aria-label="Scenario 1 options">
                                <div class="scenario-option" onclick="selectScenarioOption(1, 'a', this)">
                                    <input type="radio" id="s1a" name="scenario1" value="a">
                                    <label for="s1a">Take the payday loan - $100 fee sounds reasonable and I get the money today</label>
                                </div>
                                <div class="scenario-option" onclick="selectScenarioOption(1, 'b', this)">
                                    <input type="radio" id="s1b" name="scenario1" value="b">
                                    <label for="s1b">Take the credit union loan - lower total cost even though it takes longer</label>
                                </div>
                                <div class="scenario-option" onclick="selectScenarioOption(1, 'c', this)">
                                    <input type="radio" id="s1c" name="scenario1" value="c">
                                    <label for="s1c">Take both - use payday for now, credit union to pay it off</label>
                                </div>
                            </div>
                            <div class="scenario-feedback" id="feedback1">
                                <h5></h5>
                                <p></p>
                            </div>
                        </div>

                        <div class="scenario-card" id="scenario2" style="display: none;" data-correct="c">
                            <div class="scenario-text">
                                <strong>Scenario:</strong> You're 19 and want to build credit. A store offers you their credit card with 29.99% APR and a $500 limit. A secured credit card from a bank requires a $200 deposit but has 18% APR. Your parent offers to add you as an authorized user on their card.
                            </div>
                            <div class="scenario-options" role="radiogroup" aria-label="Scenario 2 options">
                                <div class="scenario-option" onclick="selectScenarioOption(2, 'a', this)">
                                    <input type="radio" id="s2a" name="scenario2" value="a">
                                    <label for="s2a">Store card - higher limit and I can get rewards at that store</label>
                                </div>
                                <div class="scenario-option" onclick="selectScenarioOption(2, 'b', this)">
                                    <input type="radio" id="s2b" name="scenario2" value="b">
                                    <label for="s2b">Secured card - lower APR and it's from a real bank</label>
                                </div>
                                <div class="scenario-option" onclick="selectScenarioOption(2, 'c', this)">
                                    <input type="radio" id="s2c" name="scenario2" value="c">
                                    <label for="s2c">Authorized user first, then secured card - builds credit with less risk</label>
                                </div>
                            </div>
                            <div class="scenario-feedback" id="feedback2">
                                <h5></h5>
                                <p></p>
                            </div>
                        </div>

                        <div class="scenario-card" id="scenario3" style="display: none;" data-correct="b">
                            <div class="scenario-text">
                                <strong>Scenario:</strong> You owe $3,000 on a credit card at 24% APR. You receive a balance transfer offer: 0% APR for 12 months, then 26% APR. There's a 3% transfer fee ($90). You can afford to pay $275/month.
                            </div>
                            <div class="scenario-options" role="radiogroup" aria-label="Scenario 3 options">
                                <div class="scenario-option" onclick="selectScenarioOption(3, 'a', this)">
                                    <input type="radio" id="s3a" name="scenario3" value="a">
                                    <label for="s3a">Don't transfer - the fee and higher eventual APR aren't worth it</label>
                                </div>
                                <div class="scenario-option" onclick="selectScenarioOption(3, 'b', this)">
                                    <input type="radio" id="s3b" name="scenario3" value="b">
                                    <label for="s3b">Transfer it - pay $275/month and finish in 11 months at 0%</label>
                                </div>
                                <div class="scenario-option" onclick="selectScenarioOption(3, 'c', this)">
                                    <input type="radio" id="s3c" name="scenario3" value="c">
                                    <label for="s3c">Transfer and pay minimums - save the extra money</label>
                                </div>
                            </div>
                            <div class="scenario-feedback" id="feedback3">
                                <h5></h5>
                                <p></p>
                            </div>
                        </div>

                        <div class="scenario-card" id="scenario4" style="display: none;" data-correct="a">
                            <div class="scenario-text">
                                <strong>Scenario:</strong> A "debt consolidation company" contacts you offering to combine all your debts into one "easy payment." They want you to stop paying creditors directly and pay them instead. They promise to negotiate lower balances.
                            </div>
                            <div class="scenario-options" role="radiogroup" aria-label="Scenario 4 options">
                                <div class="scenario-option" onclick="selectScenarioOption(4, 'a', this)">
                                    <input type="radio" id="s4a" name="scenario4" value="a">
                                    <label for="s4a">Decline - this sounds like a debt settlement scam that could hurt my credit</label>
                                </div>
                                <div class="scenario-option" onclick="selectScenarioOption(4, 'b', this)">
                                    <input type="radio" id="s4b" name="scenario4" value="b">
                                    <label for="s4b">Sign up - one payment sounds easier to manage</label>
                                </div>
                                <div class="scenario-option" onclick="selectScenarioOption(4, 'c', this)">
                                    <input type="radio" id="s4c" name="scenario4" value="c">
                                    <label for="s4c">Try it for a few months - I can always quit if it doesn't work</label>
                                </div>
                            </div>
                            <div class="scenario-feedback" id="feedback4">
                                <h5></h5>
                                <p></p>
                            </div>
                        </div>

                        <div class="scenario-nav">
                            <button type="button" class="prev-btn" onclick="navigateScenario(-1)" id="prevScenarioBtn" disabled>Previous</button>
                            <button type="button" class="next-btn" onclick="navigateScenario(1)" id="nextScenarioBtn">Next Question</button>
                        </div>

                        <div id="scenarioFinalScore" style="display: none; text-align: center; padding: 20px;">
                            <h4>Quiz Complete!</h4>
                            <p style="font-size: 1.2rem; margin-bottom: 10px;">You got <span id="scenarioScore" style="color: #81c784; font-weight: 600;">0</span> out of 4 correct!</p>
                            <p id="scoreMessage" style="color: #b0bec5;"></p>
                            <button type="button" class="btn secondary" onclick="resetScenarioQuiz()" style="margin-top: 15px;">Try Again</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="nav-links" style="justify-content: center;">
            <a href="debt-payoff-comparison.html" class="nav-link primary" aria-label="Try the debt payoff calculator">
                <span aria-hidden="true">&#128200;</span> Try the Calculator
            </a>
        </div>

        <footer role="contentinfo">
            Loan Reference Guide - Works offline, no data stored, no sign-up required
        </footer>
    </main>

    <script>
        // ============================================
        // UTILITY FUNCTIONS
        // ============================================

        function formatCurrency(num) {
            return new Intl.NumberFormat('en-US', {
                style: 'currency',
                currency: 'USD',
                minimumFractionDigits: 2,
                maximumFractionDigits: 2
            }).format(num);
        }

        function parseNumber(str) {
            if (!str) return 0;
            const cleaned = str.replace(/[,$\s]/g, '');
            const num = parseFloat(cleaned);
            return isNaN(num) ? 0 : num;
        }

        function formatInput(input) {
            let value = input.value.replace(/[^\d.]/g, '');
            if (value) {
                const parts = value.split('.');
                parts[0] = parts[0].replace(/\B(?=(\d{3})+(?!\d))/g, ',');
                if (parts[1]) {
                    parts[1] = parts[1].substring(0, 2);
                }
                input.value = parts.join('.');
            }
        }

        // ============================================
        // COLLAPSIBLE SECTIONS
        // ============================================

        function toggleCollapsible(id) {
            const collapsible = document.getElementById(id);
            collapsible.classList.toggle('open');

            const header = collapsible.querySelector('.collapsible-header');
            const isOpen = collapsible.classList.contains('open');
            header.setAttribute('aria-expanded', isOpen);

            if (isOpen) {
                A11yUtils.announce('Section expanded', 'polite');
            } else {
                A11yUtils.announce('Section collapsed', 'polite');
            }
        }

        // Keyboard support for collapsibles
        document.querySelectorAll('.collapsible-header').forEach(header => {
            header.addEventListener('keydown', function(e) {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    this.click();
                }
            });
        });

        // ============================================
        // RED FLAG CHECKER
        // ============================================

        function toggleFlag(element) {
            const checkbox = element.querySelector('input[type="checkbox"]');
            checkbox.checked = !checkbox.checked;
            element.classList.toggle('checked', checkbox.checked);
            updateFlagResult();
        }

        function updateFlagResult() {
            const checkboxes = document.querySelectorAll('#flagChecklist input[type="checkbox"]');
            const checkedCount = Array.from(checkboxes).filter(cb => cb.checked).length;

            // Update visual state of flag items
            document.querySelectorAll('.flag-item').forEach(item => {
                const cb = item.querySelector('input[type="checkbox"]');
                item.classList.toggle('checked', cb.checked);
            });

            // Hide all results first
            document.getElementById('flagResultSafe').classList.remove('show');
            document.getElementById('flagResultCaution').classList.remove('show');
            document.getElementById('flagResultDanger').classList.remove('show');

            // Show appropriate result
            if (checkedCount === 0) {
                document.getElementById('flagResultSafe').classList.add('show');
            } else if (checkedCount <= 2) {
                document.getElementById('flagResultCaution').classList.add('show');
            } else {
                document.getElementById('flagResultDanger').classList.add('show');
            }

            // Announce result to screen readers
            let message = '';
            if (checkedCount === 0) {
                message = 'No red flags detected. This loan may be reasonable.';
            } else if (checkedCount <= 2) {
                message = checkedCount + ' warning sign' + (checkedCount > 1 ? 's' : '') + ' detected. Proceed with caution.';
            } else {
                message = checkedCount + ' red flags detected. High risk - consider walking away.';
            }
            A11yUtils.announce(message, 'polite');
        }

        function resetFlagChecker() {
            document.querySelectorAll('#flagChecklist input[type="checkbox"]').forEach(cb => {
                cb.checked = false;
            });
            document.querySelectorAll('.flag-item').forEach(item => {
                item.classList.remove('checked');
            });
            document.getElementById('flagResultSafe').classList.remove('show');
            document.getElementById('flagResultCaution').classList.remove('show');
            document.getElementById('flagResultDanger').classList.remove('show');
            A11yUtils.announce('Red flag checker has been reset', 'polite');
        }

        // ============================================
        // LOAN COST CALCULATOR
        // ============================================

        function calculateEducationLoanCost() {
            const amountEl = document.getElementById('eduLoanAmount');
            if (!amountEl) return;

            const amount = parseNumber(amountEl.value) || 1000;
            const goodApr = parseFloat(document.getElementById('goodApr').value) / 100;
            const badApr = parseFloat(document.getElementById('badApr').value) / 100;
            const termMonths = parseInt(document.getElementById('eduLoanTerm').value);

            // Calculate monthly payments and totals using amortization formula
            const goodMonthlyRate = goodApr / 12;
            const badMonthlyRate = badApr / 12;

            let goodMonthly, goodTotal, badMonthly, badTotal;

            if (goodMonthlyRate > 0) {
                goodMonthly = amount * (goodMonthlyRate * Math.pow(1 + goodMonthlyRate, termMonths)) / (Math.pow(1 + goodMonthlyRate, termMonths) - 1);
                goodTotal = goodMonthly * termMonths;
            } else {
                goodMonthly = amount / termMonths;
                goodTotal = amount;
            }

            if (badMonthlyRate > 0) {
                badMonthly = amount * (badMonthlyRate * Math.pow(1 + badMonthlyRate, termMonths)) / (Math.pow(1 + badMonthlyRate, termMonths) - 1);
                badTotal = badMonthly * termMonths;
            } else {
                badMonthly = amount / termMonths;
                badTotal = amount;
            }

            // Update display
            document.getElementById('goodLoanTotal').textContent = formatCurrency(goodTotal);
            document.getElementById('goodLoanDetail').textContent = 'Monthly: ' + formatCurrency(goodMonthly);
            document.getElementById('badLoanTotal').textContent = formatCurrency(badTotal);
            document.getElementById('badLoanDetail').textContent = 'Monthly: ' + formatCurrency(badMonthly);

            const savings = badTotal - goodTotal;
            document.getElementById('loanSavings').textContent = formatCurrency(savings);

            // Fun comparison
            updateSavingsComparison(savings);
        }

        function updateSavingsComparison(savings) {
            const comparisons = [];

            const dinners = Math.floor(savings / 50);
            if (dinners >= 1) comparisons.push(dinners + ' nice dinner' + (dinners > 1 ? 's' : '') + ' out');

            const streaming = Math.floor(savings / 180);
            if (streaming >= 1) comparisons.push(streaming + ' year' + (streaming > 1 ? 's' : '') + ' of streaming services');

            const concerts = Math.floor(savings / 100);
            if (concerts >= 1) comparisons.push(concerts + ' concert ticket' + (concerts > 1 ? 's' : ''));

            const phones = Math.floor(savings / 800);
            if (phones >= 1) comparisons.push(phones + ' new phone' + (phones > 1 ? 's' : ''));

            document.getElementById('savingsComparison').textContent =
                comparisons.length > 0 ? comparisons.slice(0, 3).join(', or ') : 'a nice treat for yourself';
        }

        // ============================================
        // SCENARIO QUIZ
        // ============================================

        let currentScenarioIndex = 1;
        let scenarioAnswers = {};
        const totalScenarios = 4;

        const scenarioFeedback = {
            1: {
                correct: 'b',
                correctTitle: 'Correct!',
                correctText: 'The credit union loan costs about $932 total ($800 + $132 interest). The payday loan\'s "$100 fee" is actually 650% APR! If you can\'t pay in 2 weeks, fees compound and you could owe $1,500+ in months. Always calculate the true APR.',
                incorrectTitle: 'Not quite!',
                incorrectText: 'That $100 "fee" on an $800 loan for 2 weeks equals 650% APR! The credit union loan at 18% costs about $932 total over 18 months. The payday loan could cost $1,500+ if you need to "roll it over." Always calculate the true APR, not just the upfront fee.'
            },
            2: {
                correct: 'c',
                correctTitle: 'Great thinking!',
                correctText: 'Being an authorized user lets you build credit history with zero risk - you don\'t even need to use the card. Then you can get your own secured card to establish independent credit. Store cards often have predatory rates and should be avoided when starting out.',
                incorrectTitle: 'Consider this:',
                incorrectText: 'Store cards have some of the highest APRs (29.99%!) and tempt you to overspend at one store. The smartest path is: become an authorized user first (free credit building), then get a secured card. This builds credit with minimal risk of debt.'
            },
            3: {
                correct: 'b',
                correctTitle: 'Excellent math!',
                correctText: 'At $275/month for 11 months = $3,025 total (including the $90 fee). Without the transfer, at 24% APR paying $275/month, you\'d pay about $360 in interest. The transfer saves you ~$270! The key is paying it off BEFORE the 0% period ends.',
                incorrectTitle: 'Let\'s do the math:',
                incorrectText: 'Transfer + pay $275/month = $3,025 total (11 months). Without transfer at 24% APR = ~$3,360 total. That\'s $270 saved! BUT if you only pay minimums, you won\'t finish before 0% ends, and 26% APR kicks in on the remaining balance. The transfer only works if you commit to paying it off fast.'
            },
            4: {
                correct: 'a',
                correctTitle: 'Smart call!',
                correctText: 'Legitimate debt consolidation is a loan that pays off your other debts. "Debt settlement" companies that want you to stop paying creditors are often scams - they pocket your money while your credit tanks and creditors sue you. If you need help, try a non-profit credit counseling agency instead.',
                incorrectTitle: 'Watch out!',
                incorrectText: 'This is a debt settlement scam, not consolidation. They\'ll take your money, tell creditors to wait, and your credit score will plummet. Many of these companies fold before helping you, leaving you worse off. Real help comes from non-profit credit counseling agencies or legitimate consolidation loans from banks/credit unions.'
            }
        };

        function selectScenarioOption(scenarioNum, answer, element) {
            const scenario = document.getElementById('scenario' + scenarioNum);
            const correctAnswer = scenario.dataset.correct;

            // Clear previous selections
            scenario.querySelectorAll('.scenario-option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
                opt.querySelector('input').checked = false;
            });

            // Mark selected
            element.classList.add('selected');
            element.querySelector('input').checked = true;
            scenarioAnswers[scenarioNum] = answer;

            // Show feedback
            const feedback = document.getElementById('feedback' + scenarioNum);
            const feedbackData = scenarioFeedback[scenarioNum];
            const isCorrect = answer === correctAnswer;

            feedback.classList.remove('show', 'correct', 'incorrect');
            element.classList.add(isCorrect ? 'correct' : 'incorrect');

            feedback.classList.add('show', isCorrect ? 'correct' : 'incorrect');
            feedback.querySelector('h5').textContent = isCorrect ? feedbackData.correctTitle : feedbackData.incorrectTitle;
            feedback.querySelector('p').textContent = isCorrect ? feedbackData.correctText : feedbackData.incorrectText;

            // Show correct answer if wrong
            if (!isCorrect) {
                scenario.querySelectorAll('.scenario-option').forEach(opt => {
                    if (opt.querySelector('input').value === correctAnswer) {
                        opt.classList.add('correct');
                    }
                });
            }

            A11yUtils.announce(isCorrect ? 'Correct!' : 'Incorrect. See explanation below.', 'polite');
        }

        function navigateScenario(direction) {
            const newIndex = currentScenarioIndex + direction;

            if (newIndex < 1 || newIndex > totalScenarios + 1) return;

            // Hide current scenario
            const currentEl = document.getElementById('scenario' + currentScenarioIndex);
            if (currentEl) currentEl.style.display = 'none';

            if (newIndex > totalScenarios) {
                // Show final score
                showScenarioScore();
            } else {
                // Show new scenario
                document.getElementById('scenario' + newIndex).style.display = 'block';
                document.getElementById('currentScenario').textContent = newIndex;
                currentScenarioIndex = newIndex;

                // Update nav buttons
                document.getElementById('prevScenarioBtn').disabled = newIndex === 1;
                document.getElementById('nextScenarioBtn').textContent = newIndex === totalScenarios ? 'See Results' : 'Next Question';

                A11yUtils.announce('Question ' + newIndex + ' of ' + totalScenarios, 'polite');
            }
        }

        function showScenarioScore() {
            document.querySelector('.scenario-nav').style.display = 'none';
            document.querySelector('.scenario-progress').style.display = 'none';
            document.getElementById('scenarioFinalScore').style.display = 'block';

            // Calculate score
            let correct = 0;
            for (let i = 1; i <= totalScenarios; i++) {
                const scenario = document.getElementById('scenario' + i);
                if (scenarioAnswers[i] === scenario.dataset.correct) {
                    correct++;
                }
            }

            document.getElementById('scenarioScore').textContent = correct;

            let message = '';
            if (correct === totalScenarios) {
                message = 'Perfect score! You have excellent financial instincts. Keep that skeptical eye on loan offers!';
            } else if (correct >= totalScenarios * 0.75) {
                message = 'Great job! You know how to spot most financial traps. Review the explanations for the ones you missed.';
            } else if (correct >= totalScenarios * 0.5) {
                message = 'Not bad! You caught some red flags but missed a few. Review the scenarios above to strengthen your knowledge.';
            } else {
                message = 'You might be vulnerable to predatory lending. Please review all the explanations above - this knowledge could save you thousands!';
            }
            document.getElementById('scoreMessage').textContent = message;

            A11yUtils.announce('Quiz complete! You scored ' + correct + ' out of ' + totalScenarios + '. ' + message, 'polite');
        }

        function resetScenarioQuiz() {
            currentScenarioIndex = 1;
            scenarioAnswers = {};

            // Reset all scenarios
            for (let i = 1; i <= totalScenarios; i++) {
                const scenario = document.getElementById('scenario' + i);
                scenario.style.display = i === 1 ? 'block' : 'none';
                scenario.querySelectorAll('.scenario-option').forEach(opt => {
                    opt.classList.remove('selected', 'correct', 'incorrect');
                    opt.querySelector('input').checked = false;
                });
                document.getElementById('feedback' + i).classList.remove('show', 'correct', 'incorrect');
            }

            // Reset nav
            document.querySelector('.scenario-nav').style.display = 'flex';
            document.querySelector('.scenario-progress').style.display = 'block';
            document.getElementById('scenarioFinalScore').style.display = 'none';
            document.getElementById('currentScenario').textContent = '1';
            document.getElementById('prevScenarioBtn').disabled = true;
            document.getElementById('nextScenarioBtn').textContent = 'Next Question';

            A11yUtils.announce('Quiz has been reset. Starting from question 1.', 'polite');
        }

        // ============================================
        // INITIALIZATION
        // ============================================

        document.addEventListener('DOMContentLoaded', function() {
            // Initialize loan calculator
            calculateEducationLoanCost();
        });
    </script>
</body>
</html>
